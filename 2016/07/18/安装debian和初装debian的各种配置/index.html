<!DOCTYPE html>
<html lang="zh-Hans">
  <head><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="description" content="安装debian和初装debian的各种配置"/><link rel="alternate" href="/atom.xml" title="hhdx's blog" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.11.0" />
<link rel="canonical" href="http://hhdx.xyz/2016/07/18/安装debian和初装debian的各种配置/"/>

<link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.11.0" />

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-177325662-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-177325662-1');
</script><script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<script>
  window.config = {"leancloud":{"app_id":null,"app_key":null},"toc":true,"fancybox":true,"pjax":true,"latex":false};
</script>

    <title>安装debian和初装debian的各种配置 - hhdx's blog</title>
  <meta name="generator" content="Hexo 5.2.0"></head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">hhdx's blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"><a href="/">
        <li class="mobile-menu-item">Home
          </li>
      </a><a href="/archives/">
        <li class="mobile-menu-item">Archives
          </li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags
          </li>
      </a><a href="/links/">
        <li class="mobile-menu-item">Links
          </li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About
          </li>
      </a></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">hhdx's blog</a>
</div>

<nav class="site-navbar"><ul id="menu" class="menu"><li class="menu-item">
          <a class="menu-item-link" href="/">
            Home
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            Archives
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/tags/">
            Tags
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/links/">
            Links
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/about/">
            About
            </a>
        </li>
      </ul></nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content"><article class="post">
    <header class="post-header">
      <h1 class="post-title">安装debian和初装debian的各种配置
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2016-07-18
        </span></div>
    </header>

    <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%AE%89%E8%A3%85%E6%BA%90"><span class="toc-text">设置安装源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AEsudoers-3"><span class="toc-text">设置sudoers[3]</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8"><span class="toc-text">安装驱动</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8f-lux-6"><span class="toc-text">使用f.lux[6]</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85flash"><span class="toc-text">安装flash</span></a></li></ol>
    </div>
  </div><div class="post-content"><p>新买了台电脑，想装debian，然后用以前bios下安装时用的U盘，开启CSM（Compatibility Support Module）进行安装，结果没法创建启动项。找了好久安装方法，后来了解到到debian有专门的UEFI安装模式[1]，用UltralISO重新写了个支持UEFI启动的U盘，遂安装成功。若默认启动efi被更改，可以用easyUEFI更改启动顺序。</p>
<h2 id="设置安装源"><a href="#设置安装源" class="headerlink" title="设置安装源"></a>设置安装源</h2><p>修改/etc/apt/sourse.list文件，添加<br><strong>Jessie版本</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">deb http:&#x2F;&#x2F;mirrors.163.com&#x2F;debian&#x2F; jessie main non-free contrib</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.163.com&#x2F;debian&#x2F; jessie-updates main non-free contrib</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.163.com&#x2F;debian&#x2F; jessie-backports main non-free contrib</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.163.com&#x2F;debian&#x2F; jessie main non-free contrib</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.163.com&#x2F;debian&#x2F; jessie-updates main non-free contrib</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.163.com&#x2F;debian&#x2F; jessie-backports main non-free contrib</span><br><span class="line">deb http:&#x2F;&#x2F;mirrors.163.com&#x2F;debian-security&#x2F; jessie&#x2F;updates main non-free contrib</span><br><span class="line">deb-src http:&#x2F;&#x2F;mirrors.163.com&#x2F;debian-security&#x2F; jessie&#x2F;updates main non-free contrib</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>引用自163镜像站[2]</p>
<a id="more"></a>

<h2 id="设置sudoers-3"><a href="#设置sudoers-3" class="headerlink" title="设置sudoers[3]"></a>设置sudoers[3]</h2><p>新创建的用户，debian默认不再sudoers中，也就是不能用sudo使用命令。需要修改/etc/sudoers<br>在root ALL=(ALL:ALL) ALL下面添加<br><code>USER ALL=(ALL:ALL) ALL</code></p>
<h2 id="安装驱动"><a href="#安装驱动" class="headerlink" title="安装驱动"></a>安装驱动</h2><p>由于是比较新的硬件系统没有自带合适驱动，刚安好的时候，亮度简直刺眼，而且亮度也不能调节，所以这应该是驱动问题。我的是HD Graphics 530和GTX 960m，然后然我想装Nvidia的驱动按照网上的方法，安装Bumblebee-nvidia，运行nvidia-xconfig，加nomodeset什么的，不知道为什么均没有成功。后来在ubuntu中文论坛<a target="_blank" rel="noopener" href="http://forum.ubuntu.org.cn/viewtopic.php?f=165&t=479385">求助</a>，真是厉害第一句话就解决了我的问题，升级kernel到4.6。<br>升级kernel方法：[4]<br>更新backports源<br><code>$ sudo apt-get -t jessie-backports upgrade</code><br>查找新内核<br><code>aptitude search linux-image</code><br>安装新内核<br><code>$ sudo apt-get -t jessie-backports install 内核的名称</code></p>
<blockquote>
<p>為什麼要更新Linux Kernel？<br>更新Linux Kernel，通常可以有助於改善Linux作業系統的穩定度、效能、功耗、安全性以及對新硬體的相容性。當然，更新或是更換Linux Kernel也有可能會出現原先Linux Kernel所沒有的問題，尤其是使用開發中的Linux Kernel版本的時候，問題會很多。[5]</p>
</blockquote>
<h2 id="使用f-lux-6"><a href="#使用f-lux-6" class="headerlink" title="使用f.lux[6]"></a>使用f.lux[6]</h2><p>下载f.lux，已经是二进制的文件了，所以不用编译。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ tar -xvzf xflux.tgz</span><br><span class="line">$ sudo cp xflux &#x2F;usr&#x2F;local&#x2F;bin</span><br><span class="line">$ sudo chmod 755 &#x2F;usr&#x2F;local&#x2F;bin&#x2F;xflux</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>现在已经可以使用了xflux -l 维度 -g 经度 使用了。可以编写个脚本（xflux.sh）添加到开机启动项中。如，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;sh</span><br><span class="line">xflux -l 35.05 -g 118.35</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>如果想要关闭它可以用<code>$ kill -9 </code>pgrep xflux``</p>
<h2 id="安装flash"><a href="#安装flash" class="headerlink" title="安装flash"></a>安装flash</h2><p>chromium不支持flash，需要手动安装,执行命令<code>$ sudo apt-get install pepperflashplugin-nonfree</code>，重启即可。</p>
<p>1.<a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=9hd_NEvwr3M">Install Debian 8.1 (Jessie) in UEFI Mode (Dual Boot Windows 8/8.1/10)</a><br>2.<a target="_blank" rel="noopener" href="http://mirrors.163.com/.help/debian.html">Debian镜像使用帮助</a><br>3.<a target="_blank" rel="noopener" href="http://blog.csdn.net/attagain/article/details/11987297">用户不在sudoers文件中的解决方法</a><br>4.<a target="_blank" rel="noopener" href="http://www.cnblogs.com/ibgo/p/4113940.html">Debian 7 升级内核</a><br>5.<a target="_blank" rel="noopener" href="https://magiclen.org/ubuntu-kernel-update/">基於Ubuntu的Linux發行版如何更新/更換Linux Kernel？</a><br>6.<a target="_blank" rel="noopener" href="http://okomestudio.net/biboroku/?p=1131">Installing F.lux on Debian Squeeze</a></p>

      </div>
      <div class="post-copyright">
    <p class="copyright-item">
      <span>Author: </span>
      <a href="http://hhdx.xyz">hhdx</a>
    </p>
    <p class="copyright-item">
      <span>Link: </span>
      <a href="http://hhdx.xyz/2016/07/18/%E5%AE%89%E8%A3%85debian%E5%92%8C%E5%88%9D%E8%A3%85debian%E7%9A%84%E5%90%84%E7%A7%8D%E9%85%8D%E7%BD%AE/">http://hhdx.xyz/2016/07/18/%E5%AE%89%E8%A3%85debian%E5%92%8C%E5%88%9D%E8%A3%85debian%E7%9A%84%E5%90%84%E7%A7%8D%E9%85%8D%E7%BD%AE/</a>
    </p>
    <p class="copyright-item">
      <span>License: </span><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>
    </p>
  </div>
      <footer class="post-footer">
        
        <nav class="post-nav"><a class="prev" href="/2016/11/16/Largest-palindrome-produc/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">Largest palindrome produc</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    <a class="next" href="/2016/06/17/Markdown%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/">
        <span class="next-text nav-default">Markdown学习记录</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    </nav></footer>
    </article></div><div class="comments" id="comments"><div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div></div>
      </main>

      <footer id="footer" class="footer"><div class="social-links"><a target="_blank" rel="noopener" href="https://github.com/clxsh" class="iconfont icon-github" title="github"></a>
        <a target="_blank" rel="noopener" href="https://www.douban.com/people/57285004/" class="iconfont icon-douban" title="douban"></a>
        <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    </div><div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">&copy;2016 - 2020<span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">hhdx</span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div><script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://hhdx.xyz/2016/07/18/%E5%AE%89%E8%A3%85debian%E5%92%8C%E5%88%9D%E8%A3%85debian%E7%9A%84%E5%90%84%E7%A7%8D%E9%85%8D%E7%BD%AE/';
        this.page.identifier = '2016/07/18/安装debian和初装debian的各种配置/';
        this.page.title = '安装debian和初装debian的各种配置';
    };
    (function() {
    var d = document, s = d.createElement('script');

    s.src = '//lyliuchao.disqus.com/embed.js';

    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();  
  </script><script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/src/even.js?v=2.11.0"></script>
</body>
</html>
