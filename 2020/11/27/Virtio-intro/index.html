<!DOCTYPE html>
<html lang="zh-Hans">
  <head><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<meta name="description" content="【翻译】Virtio：一种Linux I/O虚拟化框架"/><meta name="keywords" content="qemu, virtio, hhdx's blog" /><link rel="alternate" href="/atom.xml" title="hhdx's blog" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.11.0" />
<link rel="canonical" href="http://hhdx.xyz/2020/11/27/Virtio-intro/"/>

<link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.11.0" />

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-177325662-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-177325662-1');
</script><script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<script>
  window.config = {"leancloud":{"app_id":null,"app_key":null},"toc":true,"fancybox":true,"pjax":true,"latex":false};
</script>

    <title>【翻译】Virtio：一种Linux I/O虚拟化框架 - hhdx's blog</title>
  <meta name="generator" content="Hexo 5.2.0"></head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">hhdx's blog</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"><a href="/">
        <li class="mobile-menu-item">Home
          </li>
      </a><a href="/archives/">
        <li class="mobile-menu-item">Archives
          </li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags
          </li>
      </a><a href="/links/">
        <li class="mobile-menu-item">Links
          </li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About
          </li>
      </a></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">hhdx's blog</a>
</div>

<nav class="site-navbar"><ul id="menu" class="menu"><li class="menu-item">
          <a class="menu-item-link" href="/">
            Home
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            Archives
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/tags/">
            Tags
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/links/">
            Links
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/about/">
            About
            </a>
        </li>
      </ul></nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content"><article class="post">
    <header class="post-header">
      <h1 class="post-title">【翻译】Virtio：一种Linux I/O虚拟化框架
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2020-11-27
        </span></div>
    </header>

    <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E8%99%9A%E6%8B%9F%E5%8C%96-vs-%E5%8D%8A%E8%99%9A%E6%8B%9F%E5%8C%96"><span class="toc-text">全虚拟化 vs. 半虚拟化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E5%AE%A2%E6%88%B7%E6%9C%BA%E4%B8%AD%E7%9A%84%E4%B8%80%E7%A7%8D%E6%8A%BD%E8%B1%A1"><span class="toc-text">Linux客户机中的一种抽象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Virtio-%E6%9E%B6%E6%9E%84"><span class="toc-text">Virtio 架构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E5%BF%B5%E5%B1%82%E7%BA%A7"><span class="toc-text">概念层级</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Virtio%E7%BC%93%E5%86%B2"><span class="toc-text">Virtio缓冲</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83API"><span class="toc-text">核心API</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Virtio%E9%A9%B1%E5%8A%A8%E4%BE%8B%E5%AD%90"><span class="toc-text">Virtio驱动例子</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E4%B8%80%E6%AD%A5"><span class="toc-text">进一步</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Resources"><span class="toc-text">Resources</span></a></li></ol>
    </div>
  </div><div class="post-content"><p>首发于安全客<a target="_blank" rel="noopener" href="https://www.anquanke.com/post/id/224001">Virtio：一种Linux I/O虚拟化框架 - 安全客，安全资讯平台 (anquanke.com)</a></p>
<p>原文：<a target="_blank" rel="noopener" href="https://developer.ibm.com/articles/l-virtio/">Virtio: An I/O virtualization framework for Linux – IBM Developer</a></p>
<blockquote>
<p>学习Virtio推荐首先看这一篇，国内好多文章写的太乱了，看来看不去都不明白整体的架构，给人很模糊的感觉。这篇文章好很多。</p>
<p><strong>受限于个人水平，翻译肯定有不妥之处，译注根据自己的理解加入，也不一定准确。如有错误，还请不吝指出。</strong></p>
</blockquote>
<p>简言之，<code>virtio</code>是设备和半虚拟化管理程序(paravirtualized hypervisor)之间的一个抽象层。<code>virtio</code>是Rusty Russell为了支持他自己的虚拟化方案<code>lguest</code>而开发的。这篇文章以对半虚拟化和设备仿真的介绍开始，然后探寻<code>virtio</code>中的一些细节。采用kernel 2.6.30版本的<code>virtio</code>框架进行讲解。</p>
<p>Linux是hypervisor的“游乐场”。正如我在文章<a target="_blank" rel="noopener" href="https://developer.ibm.com/tutorials/l-hypervisor/">使用Linux作为hypervisor</a>中所展现的，Linux提供了许多具有不同特性和优势的虚拟化解决方案。例如KVM(Kernel-based Virtual Machine)，<code>lguest</code>、和用户态的Linux。在Linux使用这些虚拟化解决方案给操作系统造成了重担，因为它们各自都有独立的需求。其中一个问题就是设备的虚拟化。<code>virtio</code>为各种各样设备（如：网络设备、块设备等等）的虚拟提供了通用的标准化前端接口，增加了各个虚拟化平台的代码复用。而不是各自为政般的使用繁杂的设备虚拟机制。</p>
<h2 id="全虚拟化-vs-半虚拟化"><a href="#全虚拟化-vs-半虚拟化" class="headerlink" title="全虚拟化 vs. 半虚拟化"></a>全虚拟化 vs. 半虚拟化</h2><p>我们先来讨论两种完全不同的虚拟化方案：全虚拟化和半虚拟化。在全虚拟化中，客户操作系统在hypervisor上运行，相当于运行于裸机一般。客户机不知道它在虚拟机还是物理机中运行，不需要修改操作系统就可以直接运行。与此相反的是，在半虚拟化中，客户机操作系统不仅能够知道其运行于虚拟机之上，也必须包含与hypervisor进行交互的代码。但是能够在客户机和hypervisor的切换中，带来更高的效率（图1）。</p>
<p><em>译注：客户机与hypervisor的切换举例：客户机请求I/O，需要hypervisor中所虚拟的设备来响应请求，此时就会发生切换。</em></p>
<p>在全虚拟化中，hypervisor必须仿真设备硬件，也就是说模仿硬件最底层的会话（如：网卡驱动）。尽管这种仿真看起来方便，但代价是极低的效率和高度的复杂性。在半虚拟化中，客户机与hypervisor可以共同合作让这种仿真具有更高的效率。半虚拟化不足就是客户机操作系统会意识到它运行于虚拟机之中，而且需要对客户机操作系统做出一定的修改。</p>
<a id="more"></a>
<p><strong>图1. 全虚拟化和半虚拟化中的设备仿真</strong></p>
<p><img src="https://raw.githubusercontent.com/clxsh/pics/master/imgfigure1.jpg" alt="figure1"></p>
<p>硬件也随着虚拟化不断地发展着。新处理器加入了高级指令，使客户机操作系统和hypervisor的切换更加高效。硬件也随着I/O虚拟化不断地发生改变（参照Resource了解PCI passthrough和单/多根I/O虚拟化）。</p>
<p>在传统的全虚拟化环境中，hypervisor必须陷入(trap)请求，然后模仿真实硬件的行为。尽管这样提供了很大的灵活性（指可以运行不必修改的操作系统），但却造成了低效率（图1左侧）。图1右侧展示了半虚拟化。客户机操作系统知道运行于虚拟机之中，加入了驱动作为前端。hypervisor为特定设备仿真实现了后端驱动。这里的前端后端就是<code>virtio</code>的构件，提供了标准化接口，提高了设备仿真开发的代码复用程度和仿真设备运行的效率。</p>
<p><em>作者注：<code>virtio</code>并不是半虚拟化领域的唯一存在。Xen提供了半虚拟化的设备驱动，VMware也提供了名为<code>Guest Tools</code>的半虚拟化支持。</em></p>
<h2 id="Linux客户机中的一种抽象"><a href="#Linux客户机中的一种抽象" class="headerlink" title="Linux客户机中的一种抽象"></a>Linux客户机中的一种抽象</h2><p>如前节所述，<code>virtio</code>为半虚拟化提供了一系列通用设备仿真的接口。这种设计允许hypervisor导出一套通用的设备仿真操作，只要使用这一套接口就能够工作。图2解释了为什么这很重要。通过半虚拟化，客户机实现了通用的接口，同时虚拟化管理程序提供设备仿真的后端驱动。后端驱动并不一定要一致，只要它实现了前端所需的各种操作就可以。</p>
<p><strong>图2. 使用virtio的驱动抽象</strong></p>
<p><img src="https://raw.githubusercontent.com/clxsh/pics/master/imgfigure2.jpg" alt="figure2"></p>
<p>注意在实际中，使用用户空间的QEMU程序来进行设备仿真，所以后端驱动通过QEMU的I/O来与用户空间的hypervisor通信。QEMU是系统模拟器，包括提供客户机操作系统虚拟化平台，提供整个系统的仿真（PCI host controller, disk, network, video hardware, USB controller等）。</p>
<p><code>virtio</code>依靠于简单的缓存管理，用来存储客户机的命令与客户机所需的数据。我们继续来看<code>virtio</code>的API及其构件。</p>
<h2 id="Virtio-架构"><a href="#Virtio-架构" class="headerlink" title="Virtio 架构"></a>Virtio 架构</h2><p>除了前端驱动（在客户机操作系统中实现）和后端驱动（在hypervisor中实现）之外，<code>virtio</code>还定义了两层来支持客户机与hypervisor进行通讯。虚拟队列(Virtual Queue)接口将前端驱动和后端驱动结合在一起。驱动可以有0个或多个队列，依赖于它们的需要。例如，<code>virtio</code>网络驱动使用了两个虚拟队列（一个用于接收一个用于发送），而<code>virtio</code>块设备驱动只需要一个。虚拟队列，通常使用环形缓冲，在客户机与虚拟机管理器之间传输。可以使用任意方式实现，只要客户机与虚拟机管理器相统一。</p>
<p><strong>图3. virtio框架的架构</strong></p>
<p><img src="https://raw.githubusercontent.com/clxsh/pics/master/imgfigure3.jpg" alt="figure3"></p>
<p>如图3，包含了五种前端驱动：块设备（如硬盘）、网络设备、PCI仿真、balloon驱动（用于动态的管理客户机内存使用）和一个终端驱动。每一个前端驱动，在hypervisor中都有一个相匹配的后端驱动。</p>
<h2 id="概念层级"><a href="#概念层级" class="headerlink" title="概念层级"></a>概念层级</h2><p>在客户机的视角来看，对象层级如图4所示。顶端是<code>virtio_driver</code>，表示客户机中的前端驱动。与驱动相匹配的设备被封装在<code>virtio_device</code>（在客户机中表示设备），其中有成员<code>config</code>指向<code>virtio_config_ops</code>结构（其中定义了配置<code>virtio</code>设备的操作）。<code>virtqueue</code>中有成员<code>vdev</code>指向<code>virtio_device</code>（也就是指向它所服务的某一设备<code>virtio_device</code>）。最下面，每个<code>virtio_queue</code>中有个类型为<code>virtqueue_ops</code>的对象，其中定义了与hypervisor交互的虚拟队列操作。</p>
<p><strong>图4. virtio前端的对象层级</strong></p>
<p><img src="https://raw.githubusercontent.com/clxsh/pics/master/imgfigure4.jpg" alt="figure4"></p>
<p>这一过程起始于<code>virtio_driver</code>的创建和后续的使用<code>register_virtio_driver</code>将驱动进行注册。<code>virtio_driver</code>结构定义了设备驱动的上层结构，包含了它所支持的设备的设备ID，特性表（根据设备的类型有所不同），和一系列回调函数。当hypervisor发现新设备，并且匹配到了设备ID，就会以<code>virtio_device</code>为参数调用<code>probe</code>函数（于<code>virtio_driver</code>中提供）。这一结构与管理数据一起被缓存（以独立于驱动的方式）。根据设备的类型，<code>virtio_config_ops</code>中的可能会被调用，以获取或设置设备相关的选项（例如，获取硬盘块设备的读/写状态或者设置块设备的块大小）。</p>
<p>注意，<code>virtio_device</code>中没有包含指向所对应<code>virtqueue</code>的成员（<code>virtqueue</code>有指向<code>virtio_device</code>的成员）。为了得到与<code>virtio_device</code>相关联的<code>virtqueue</code>，需要使用<code>virtio_config_ops</code>结构中的<code>find_vq</code>函数。这个函数返回与该<code>virtqueue</code>相关联的设备实例。<code>find_vq</code>还允许为<code>virtqueue</code>指定回调函数，用于在hypervisor准备好数据时，通知客户机。</p>
<p><code>virtqueue</code>结构包含可选的回调函数（用于在hypervisor填充缓冲后，通知客户机）、一个指向<code>virtio_device</code>、一个指向<code>virtqueue</code>操作和一个特别的<code>priv</code>用于底层实现使用。<code>callback</code>是可选的，也可以动态的启用或禁用。</p>
<p>这个层级的核心是<code>virtqueue_ops</code>，其中定义了如何在客户机和hypervisor之间传输命令与数据。我们先来探索<code>virtqueue</code>中对象的添加和删除操作。</p>
<h2 id="Virtio缓冲"><a href="#Virtio缓冲" class="headerlink" title="Virtio缓冲"></a>Virtio缓冲</h2><p>客户机驱动（前端）与hypervisor（后端）通过缓冲区进行通信。对于一次I/O，客户机提供一个或多个缓冲区表示请求。例如，你可以使用三个缓冲区，其中一个用来存储读请求，其他两个用来存储回复数据。内部这个配置被表示为分散/聚集(scatter-gather)列表（列表中的每个元素存储有缓冲区地址与长度）。</p>
<h2 id="核心API"><a href="#核心API" class="headerlink" title="核心API"></a>核心API</h2><p>将客户机驱动与hypervisor驱动链接起来，偶尔是通过<code>virtio_device</code>，大多数情况下都是通过<code>virtqueue</code>。<code>virtqueue</code>支持五个API函数。使用第一个函数<code>add_buf</code>向hypervisor添加请求，这种请求以分散/聚集列表的形式，正如先前讨论的。为了提交请求，客户机必须提供请求命令，分散/聚集列表（以缓冲区地址和长度为元素的数组），向外提供请求的缓冲区的数量（也就是发送请求信息给hypervisor），向内传递数据的缓冲区的数量（hypervisor用来填充数据，返回给客户机）。当客户机通过<code>add_buf</code>向hypervisor提交一条请求后，客户机就可以使用<code>kick</code>通知hypervisor新请求已递送。但为了更好地性能，客户机应该在<code>kick</code>通知hypervisor之前，提交尽可能多的请求。</p>
<p>客户机使用<code>get_buf</code>接收从hypervisor中返回的数据。客户机可以简单地使用<code>get_buf</code>轮询或者等待由<code>virtqueue callback</code>函数的通知。当客户机知道了缓冲区数据可用，就会使用<code>get_buf</code>获取数据。</p>
<p>最后两个<code>virtqueue</code>的API是<code>enable_cb</code>和<code>disable_cb</code>，可用使用这两个函数启用和禁用回调函数（<code>callback</code>函数使用<code>find_vq</code>初始化设置）。注意回调函数与hypervisor在不同的地址空间，所以调用需要间接调用(indirect hypervisor call)（例如：<code>kvm_hypercall</code>）。</p>
<p>缓冲区的格式、顺序与内容支队前端和后端驱动有意义。内部传送（现在使用环形缓冲区实现）只传输缓冲区，并不知道内部表达的意义。</p>
<h2 id="Virtio驱动例子"><a href="#Virtio驱动例子" class="headerlink" title="Virtio驱动例子"></a>Virtio驱动例子</h2><p>对于各种各样前端驱动，可以在Linux内核源码的<code>./drivers</code>子目录下找到。<code>virtio</code>网络驱动在<code>./driver/net/virtio_net.c</code>，<code>virtio</code>块驱动在<code>./driver/block/virtio_blk.c</code>。<code>./driver/virtio</code>子目录下提供了<code>virtio</code>接口的实现(<code>virtio</code>设备、驱动、<code>virtqueue</code>和环形缓冲区)。<code>virtio</code>也被用在了高性能计算(High-Performance Computing, HPC)研究之中，使用共享内存传递内部虚拟机的信息。特别的，这使用了<code>virtio</code>来实现虚拟化PCI接口。可以再resources中找到相关工作。</p>
<p>你可以在Linux内核中练习半虚拟化基础工作。你所需要的就是一个作为hypervisor的内核，客户机内核和用来仿真设备的QEMU。你可以使用KVM(一个存在于宿主机内核中的模块)或者Rusty Russell的lguest（一个修改过的Linux内核）。两种方案都支持<code>virtio</code>（配合以QEMU进行系统模拟和<code>libvirt</code>进行虚拟化管理）。</p>
<p>Rusty的成果是简化了半虚拟化驱动的开发，并且设备仿真性能更高。最重要的还是，<code>virtio</code>能够提供更好地性能（两三倍的网络I/O）比现有的商业解决方案。虽说有一定的代价，但如果你的hypervisor和客户机系统是Linux，还是非常值得的。</p>
<h2 id="进一步"><a href="#进一步" class="headerlink" title="进一步"></a>进一步</h2><p>尽管你可以永远不会为<code>virtio</code>开发前端或者后端驱动，但它实现了一个有趣的架构，值得更加细致的理解它。与先前的Xen相比，<code>virtio</code>为了半虚拟化提高性能提供了新的可能。在作为投入使用的hypervisor和新虚拟技术的实验平台中，Linux不断地证明了它自己。<code>virtio</code>再一次证明了Linux作为hypervisor的优势和开放性。</p>
<h2 id="Resources"><a href="#Resources" class="headerlink" title="Resources"></a>Resources</h2><ol>
<li><p><a target="_blank" rel="noopener" href="http://portal.acm.org/citation.cfm?id=1400097.1400108">Virtio: towards a de factor standard for virtual I/O devices</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.ibm.com/developerworks/linux/library/l-hypervisor/index.html">Anatomy of a Linux hypervisor</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://www.ibm.com/developerworks/linux/library/l-pci-passthrough/index.html">Linux virtualization and PCI passthrough</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://blog.loftninjas.org/2008/10/22/kvm-virtio-network-performance/">performance advantage of virtio using KVM</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://wiki.libvirt.org/page/Virtio">libvirt wiki</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://lguest.ozlabs.org/">lguest</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://www.linux-kvm.org/page/Main_Page">KVM</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://www.springerlink.com/content/b1676363881h5662/">shared-memory message passing</a></p>
</li>
</ol>

      </div>
      <div class="post-copyright">
    <p class="copyright-item">
      <span>Author: </span>
      <a href="http://hhdx.xyz">hhdx</a>
    </p>
    <p class="copyright-item">
      <span>Link: </span>
      <a href="http://hhdx.xyz/2020/11/27/Virtio-intro/">http://hhdx.xyz/2020/11/27/Virtio-intro/</a>
    </p>
    <p class="copyright-item">
      <span>License: </span><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>
    </p>
  </div>
      <footer class="post-footer">
        <div class="post-tags">
            <a href="/tags/qemu/">qemu</a>
            <a href="/tags/virtio/">virtio</a>
            </div>
        
        <nav class="post-nav"><a class="prev" href="/2020/11/30/babyqemu/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">HITB GSEC 2017：babyqemu</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    <a class="next" href="/2020/11/23/Qemu-Pwn/">
        <span class="next-text nav-default">Qemu Escape ---- 以BlizzardCTF2017_STRNG为例</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    </nav></footer>
    </article></div><div class="comments" id="comments"><div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    </div></div>
      </main>

      <footer id="footer" class="footer"><div class="social-links"><a target="_blank" rel="noopener" href="https://github.com/clxsh" class="iconfont icon-github" title="github"></a>
        <a target="_blank" rel="noopener" href="https://www.douban.com/people/57285004/" class="iconfont icon-douban" title="douban"></a>
        <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    </div><div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" target="_blank" rel="noopener" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">&copy;2016 - 2021<span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">hhdx</span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div><script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://hhdx.xyz/2020/11/27/Virtio-intro/';
        this.page.identifier = '2020/11/27/Virtio-intro/';
        this.page.title = '【翻译】Virtio：一种Linux I/O虚拟化框架';
    };
    (function() {
    var d = document, s = d.createElement('script');

    s.src = '//lyliuchao.disqus.com/embed.js';

    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();  
  </script><script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/src/even.js?v=2.11.0"></script>
</body>
</html>
